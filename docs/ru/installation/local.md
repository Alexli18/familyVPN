# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É —Å–µ–º–µ–π–Ω–æ–≥–æ VPN-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ –±–µ–∑ Docker. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ª—É—á—à—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –ø—Ä—è–º—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å —Å–∏—Å—Ç–µ–º–æ–π, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ —à–∞–≥–æ–≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å:
- –í—ã–ø–æ–ª–Ω–µ–Ω—ã [—Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](requirements.md)
- –ü—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞/root
- –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –ë–∞–∑–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

## –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### Windows

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js
1. **–°–∫–∞—á–∞–π—Ç–µ Node.js**:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://nodejs.org/
   - –°–∫–∞—á–∞–π—Ç–µ LTS –≤–µ—Ä—Å–∏—é (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 18.x)
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É**:
   ```cmd
   node --version
   npm --version
   ```

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ OpenVPN
1. **–°–∫–∞—á–∞–π—Ç–µ OpenVPN**:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://openvpn.net/community-downloads/
   - –°–∫–∞—á–∞–π—Ç–µ "OpenVPN" (–Ω–µ OpenVPN Connect)
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É**:
   ```cmd
   "C:\Program Files\OpenVPN\bin\openvpn.exe" --version
   ```

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Git (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
1. **–°–∫–∞—á–∞–π—Ç–µ Git**:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://git-scm.com/
   - –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Git –¥–ª—è Windows
   - –ò–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –∫–∞–∫ ZIP —Ñ–∞–π–ª

### macOS

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Homebrew (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js, OpenVPN –∏ Easy-RSA
brew install node openvpn easy-rsa git

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏
node --version
openvpn --version
```

### Linux (Ubuntu/Debian)

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
```bash
sudo apt update && sudo apt upgrade -y
```

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js 18.x LTS
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install -y nodejs

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
node --version
npm --version
```

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ OpenVPN –∏ Easy-RSA
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å OpenVPN –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
sudo apt install -y openvpn easy-rsa git curl

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
openvpn --version
```

### Linux (CentOS/RHEL/Fedora)

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js
```bash
# CentOS/RHEL 7-8
curl -fsSL https://rpm.nodesource.com/setup_18.x | sudo bash -
sudo yum install -y nodejs

# Fedora
sudo dnf install -y nodejs npm

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
node --version
```

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ OpenVPN
```bash
# CentOS/RHEL
sudo yum install -y epel-release
sudo yum install -y openvpn easy-rsa git

# Fedora
sudo dnf install -y openvpn easy-rsa git

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
openvpn --version
```

## –®–∞–≥ 2: –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```bash
# –í–∞—Ä–∏–∞–Ω—Ç A: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å Git
git clone https://github.com/your-username/family-vpn-server.git
cd family-vpn-server

# –í–∞—Ä–∏–∞–Ω—Ç B: –°–∫–∞—á–∞—Ç—å ZIP –∏ –∏–∑–≤–ª–µ—á—å
# –ó–∞—Ç–µ–º –ø–µ—Ä–µ–π—Ç–∏ –≤ –∏–∑–≤–ª–µ—á–µ–Ω–Ω—É—é –ø–∞–ø–∫—É
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–æ–µ–∫—Ç–∞
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Node.js
npm install

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
npm list --depth=0
```

## –®–∞–≥ 3: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã

### –í–∫–ª—é—á–µ–Ω–∏–µ IP Forwarding

#### Linux
```bash
# –í–∫–ª—é—á–∏—Ç—å IP forwarding –≤—Ä–µ–º–µ–Ω–Ω–æ
sudo sysctl -w net.ipv4.ip_forward=1

# –°–¥–µ–ª–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º
echo 'net.ipv4.ip_forward=1' | sudo tee -a /etc/sysctl.conf

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
sudo sysctl -p
```

#### macOS
```bash
# –í–∫–ª—é—á–∏—Ç—å IP forwarding
sudo sysctl -w net.inet.ip.forwarding=1

# –°–¥–µ–ª–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º (–¥–æ–±–∞–≤–∏—Ç—å –≤ /etc/sysctl.conf)
echo 'net.inet.ip.forwarding=1' | sudo tee -a /etc/sysctl.conf
```

#### Windows
IP forwarding –æ–±—ã—á–Ω–æ –≤–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ Windows. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:
```cmd
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
netsh interface ipv4 set global forwarding=enabled
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ TUN/TAP

#### Linux
```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥—É–ª—å TUN
sudo modprobe tun

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ TUN
ls -la /dev/net/tun

# –°–¥–µ–ª–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥—É–ª—è TUN –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
echo 'tun' | sudo tee -a /etc/modules
```

#### macOS
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ TUN/TAP –≤–∫–ª—é—á–µ–Ω–∞ –≤ —É—Å—Ç–∞–Ω–æ–≤–∫—É OpenVPN.

#### Windows
–î—Ä–∞–π–≤–µ—Ä TUN/TAP —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å OpenVPN.

## –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ –º–∞—Å—Ç–µ—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∞—Å—Ç–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
npm run setup

# –°–ª–µ–¥—É–π—Ç–µ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º:
# 1. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (—Å–∏—Å—Ç–µ–º–Ω–∞—è –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è)
# 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ç–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
```

### –í–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –°–∏—Å—Ç–µ–º–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤)
- **–¢—Ä–µ–±—É–µ—Ç**: –ü—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞/root
- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**: `/etc/openvpn` (Linux/macOS) –∏–ª–∏ `C:\ProgramData\OpenVPN` (Windows)
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **–°–ª—É—á–∞–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**: –í—ã–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã, –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- **–¢—Ä–µ–±—É–µ—Ç**: –ü—Ä–∞–≤–∞ –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**: `~/.privatevpn/` (–≤—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã)
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –ù–µ –Ω—É–∂–Ω—ã –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–æ –æ—Ç —Å–∏—Å—Ç–µ–º—ã
- **–°–ª—É—á–∞–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ª–∏—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–∏–º–µ—Ä —Å–µ—Å—Å–∏–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```bash
$ npm run setup

Setting up PrivateVPN environment...
Detected platform: linux

Would you like to:
1) Use system directories (requires admin/sudo privileges)
2) Use local directories in your home folder (recommended)

Enter your choice (1 or 2): 2

Using local directory: /home/user/.privatevpn
Created .env file with local paths
Creating configuration directories...
‚úÖ Directories created successfully!
‚úÖ Hardened OpenVPN config created
‚úÖ Found OpenVPN at: /usr/bin/openvpn
‚úÖ Found Easy-RSA at: /usr/share/easy-rsa
‚úÖ Created/updated config.js with your selected paths

‚úÖ Setup completed successfully!

Configuration directory: /home/user/.privatevpn/config
Certificates directory: /home/user/.privatevpn/certificates
```

## –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –°–æ–∑–¥–∞–Ω–∏–µ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
```bash
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
npm run setup-auth

# –°–ª–µ–¥—É–π—Ç–µ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:
# - –ò–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
# - –ë–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è
# - JWT —Å–µ–∫—Ä–µ—Ç–æ–≤
```

### –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
```bash
$ npm run setup-auth

üîê VPN Server Authentication Setup

Enter admin username: admin
Enter admin password: [–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ä–æ–ª—å]
Confirm password: [–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ä–æ–ª—å]

‚úÖ Password hash generated
‚úÖ JWT secrets generated
‚úÖ Authentication configuration saved to .env

Admin credentials created successfully!
Username: admin
Configuration saved to: .env
```

## –®–∞–≥ 6: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è PKI (—Å–∏—Å—Ç–µ–º–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤)

### –°–æ–∑–¥–∞–Ω–∏–µ —Ü–µ–Ω—Ç—Ä–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å PKI –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
npm run init-pki

# –≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç:
# - –¶–µ–Ω—Ç—Ä —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (CA)
# - –°–µ—Ä–≤–µ—Ä–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
# - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã Diffie-Hellman
```

### –ü—Ä–æ—Ü–µ—Å—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ PKI
```bash
$ npm run init-pki

üîê Initializing PKI infrastructure...

Creating Certificate Authority...
‚úÖ CA certificate created
‚úÖ CA private key secured

Generating server certificates...
‚úÖ Server certificate created
‚úÖ Server private key secured

Generating Diffie-Hellman parameters...
‚úÖ DH parameters generated (this may take several minutes)

Creating TLS-Auth key...
‚úÖ TLS-Auth key generated

‚úÖ PKI initialization completed successfully!

Certificate files created:
- CA Certificate: certificates/ca.crt
- Server Certificate: certificates/server.crt
- Server Key: certificates/server.key
- DH Parameters: certificates/dh.pem
- TLS-Auth Key: certificates/ta.key
```

## –®–∞–≥ 7: –£—Å–∏–ª–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å —É—Å–∏–ª–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
npm run harden-config

# –≠—Ç–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç:
# - –°–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
# - –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã OpenVPN
# - –ù–∞—Å—Ç—Ä–æ–π–∫–∏, –¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä—É
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞

#### Linux (UFW)
```bash
# –í–∫–ª—é—á–∏—Ç—å –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä
sudo ufw enable

# –†–∞–∑—Ä–µ—à–∏—Ç—å —Ç—Ä–∞—Ñ–∏–∫ OpenVPN
sudo ufw allow 1194/udp

# –†–∞–∑—Ä–µ—à–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–ª—è –≤–∞—à–µ–≥–æ IP)
sudo ufw allow from YOUR_ADMIN_IP to any port 3000

# –†–∞–∑—Ä–µ—à–∏—Ç—å SSH (–µ—Å–ª–∏ —É–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä)
sudo ufw allow ssh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo ufw status
```

#### Linux (iptables)
```bash
# –†–∞–∑—Ä–µ—à–∏—Ç—å OpenVPN
sudo iptables -A INPUT -p udp --dport 1194 -j ACCEPT

# –†–∞–∑—Ä–µ—à–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
sudo iptables -A INPUT -p tcp --dport 3000 -s YOUR_ADMIN_IP -j ACCEPT

# –†–∞–∑—Ä–µ—à–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
sudo iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ (Ubuntu/Debian)
sudo iptables-save | sudo tee /etc/iptables/rules.v4
```

#### macOS
```bash
# –ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä macOS –æ–±—ã—á–Ω–æ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ pfctl –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

# –†–∞–∑—Ä–µ—à–∏—Ç—å OpenVPN —á–µ—Ä–µ–∑ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä macOS
sudo /usr/libexec/ApplicationFirewall/socketfilterfw --add /usr/local/sbin/openvpn
sudo /usr/libexec/ApplicationFirewall/socketfilterfw --unblockapp /usr/local/sbin/openvpn
```

#### Windows
```cmd
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
# –†–∞–∑—Ä–µ—à–∏—Ç—å OpenVPN —á–µ—Ä–µ–∑ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä Windows
netsh advfirewall firewall add rule name="OpenVPN" dir=in action=allow protocol=UDP localport=1194

# –†–∞–∑—Ä–µ—à–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
netsh advfirewall firewall add rule name="VPN Management" dir=in action=allow protocol=TCP localport=3000
```

## –®–∞–≥ 8: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

### –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π)
npm run dev

# –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ http://localhost:3000
```

### –ü—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º–µ
npm start

# –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞–∫ —Ñ–æ–Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å (Linux/macOS)
nohup npm start > vpn-server.log 2>&1 &
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ (Linux)

#### –°–æ–∑–¥–∞–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–∞
```bash
# –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª —Å–µ—Ä–≤–∏—Å–∞
sudo tee /etc/systemd/system/family-vpn.service > /dev/null <<EOF
[Unit]
Description=Family VPN Server
After=network.target

[Service]
Type=simple
User=vpnuser
WorkingDirectory=/path/to/family-vpn-server
ExecStart=/usr/bin/npm start
Restart=always
RestartSec=10
Environment=NODE_ENV=production

[Install]
WantedBy=multi-user.target
EOF

# –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è VPN
sudo useradd -r -s /bin/false vpnuser
sudo chown -R vpnuser:vpnuser /path/to/family-vpn-server

# –í–∫–ª—é—á–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
sudo systemctl daemon-reload
sudo systemctl enable family-vpn
sudo systemctl start family-vpn

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo systemctl status family-vpn
```

## –®–∞–≥ 9: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞
```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
curl -k http://localhost:3000/health

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å OpenVPN
ps aux | grep openvpn

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–µ–º—ã–µ –ø–æ—Ä—Ç—ã
netstat -tulnp | grep -E '(1194|3000)'
```

### –î–æ—Å—Ç—É–ø –∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
1. **–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä** –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `http://localhost:3000`
2. **–í–æ–π–¥–∏—Ç–µ** —Å —Å–æ–∑–¥–∞–Ω–Ω—ã–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**, —á—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
```bash
# –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
npm run generate-client

# –°–ª–µ–¥—É–π—Ç–µ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ .ovpn —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ certificates
```

## –®–∞–≥ 10: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
1. **–î–æ—Å—Ç—É–ø** –∫ `http://localhost:3000`
2. **–í–æ–π–¥–∏—Ç–µ** —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
3. **–ù–∞–∂–º–∏—Ç–µ "Generate New Certificate"**
4. **–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∫–ª–∏–µ–Ω—Ç–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä, "john-laptop")
5. **–°–∫–∞—á–∞–π—Ç–µ .ovpn —Ñ–∞–π–ª**

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
```bash
# –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ
npm run generate-client

# –ò–ª–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∏–º–µ–Ω–µ–º
CLIENT_NAME="mary-phone" npm run generate-client
```

## –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env)
```env
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞
VPN_HOST=YOUR_SERVER_IP
VPN_PORT=1194
VPN_SUBNET=10.8.0.0
VPN_NETMASK=255.255.255.0

# –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
API_PORT=3000
NODE_ENV=production

# –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
VPN_USERNAME=admin
VPN_PASSWORD_HASH=generated_hash_here
JWT_SECRET=generated_secret_here
SESSION_SECRET=generated_secret_here

# –ü—É—Ç–∏ (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –º–∞—Å—Ç–µ—Ä–æ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
VPN_CONFIG_DIR=/path/to/config
VPN_CERT_DIR=/path/to/certificates

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
MAX_FAILED_ATTEMPTS=5
LOCKOUT_DURATION=900000
ENFORCE_IP_VALIDATION=false

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
LOG_LEVEL=info
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è OpenVPN
–ú–∞—Å—Ç–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ–∑–¥–∞–µ—Ç —É—Å–∏–ª–µ–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é OpenVPN –≤:
- **–°–∏—Å—Ç–µ–º–Ω–∞—è**: `/etc/openvpn/openvpn.conf`
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è**: `~/.privatevpn/config/openvpn.conf`

–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ AES-256-GCM
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è SHA-256
- Perfect Forward Secrecy
- –ó–∞—â–∏—Ç–∞ TLS-Auth
- –°–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã DH

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û–±—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

#### "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω" –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
ls -la /path/to/certificates/

# –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
sudo chown -R $USER:$USER /path/to/family-vpn-server
chmod 600 certificates/*.key
chmod 644 certificates/*.crt
```

#### "OpenVPN –Ω–µ –Ω–∞–π–¥–µ–Ω"
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É OpenVPN
which openvpn
openvpn --version

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (—Å–º. –®–∞–≥ 1)
```

#### "–ü–æ—Ä—Ç —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è"
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç
sudo netstat -tulnp | grep 3000

# –£–±–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç –≤ .env
```

#### "–ù–µ –º–æ–≥—É –ø—Ä–∏–≤—è–∑–∞—Ç—å—Å—è –∫ VPN –ø–æ—Ä—Ç—É"
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–∞ 1194
sudo netstat -ulnp | grep 1194

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å sudo –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ä—Ç
sudo npm start
```

### –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
DEBUG=* LOG_LEVEL=debug npm start

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
tail -f logs/application.log
tail -f logs/error.log
```

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –ª–æ–≥–æ–≤
- **–õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**: `logs/application.log`
- **–õ–æ–≥–∏ –æ—à–∏–±–æ–∫**: `logs/error.log`
- **–õ–æ–≥–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**: `logs/security.log`
- **–õ–æ–≥–∏ OpenVPN**: `/var/log/openvpn/` (—Å–∏—Å—Ç–µ–º–Ω–∞—è) –∏–ª–∏ `logs/openvpn.log` (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è)

## –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

### –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –∑–∞–¥–∞—á–∏
```bash
# –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm update

# –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
npm run backup:create

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
npm run security-scan

# –û–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
sudo apt update && sudo apt upgrade  # Linux
brew upgrade  # macOS
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
```bash
# –°–ø–∏—Å–æ–∫ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
ls -la certificates/

# –û—Ç–æ–∑–≤–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
npm run revoke-client CLIENT_NAME

# –û–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
npm run fix-server-cert
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –ª–æ–∫–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

1. **[–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è](../configuration/environment.md)**
2. **[–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏](../configuration/security.md)**
3. **[–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ç–∏](../configuration/networking.md)**
4. **[–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏](../configuration/certificates.md)**

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã
```bash
# –£–≤–µ–ª–∏—á–∏—Ç—å –ª–∏–º–∏—Ç—ã —Ñ–∞–π–ª–æ–≤—ã—Ö –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤
echo '* soft nofile 65536' | sudo tee -a /etc/security/limits.conf
echo '* hard nofile 65536' | sudo tee -a /etc/security/limits.conf

# –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ç–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
echo 'net.core.rmem_max = 134217728' | sudo tee -a /etc/sysctl.conf
echo 'net.core.wmem_max = 134217728' | sudo tee -a /etc/sysctl.conf
sudo sysctl -p
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è OpenVPN
```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é OpenVPN –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
# –î–æ–±–∞–≤–∏—Ç—å –≤ openvpn.conf:
# fast-io
# sndbuf 393216
# rcvbuf 393216
```

–≠—Ç–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ. –°–µ—Ä–≤–µ—Ä —Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –±—ã—Ç—å –≥–æ—Ç–æ–≤ –ø—Ä–∏–Ω–∏–º–∞—Ç—å VPN —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.