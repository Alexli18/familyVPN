# API —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏

üìç **–ù–∞–≤–∏–≥–∞—Ü–∏—è**: [–ì–ª–∞–≤–Ω–∞—è](../../../README.md) > [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](../../README.md) > [–†—É—Å—Å–∫–∏–π](../README.md) > [API](README.md) > –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

üåê **–Ø–∑—ã–∫**: [English](../../en/api/certificates.md) | [–†—É—Å—Å–∫–∏–π](../../ru/api/certificates.md) ‚Üê –í—ã –∑–¥–µ—Å—å

## üìö –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä–∞–∑–¥–µ–ª—É

- [üè† –û–±–∑–æ—Ä API](README.md)
- [üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è](authentication.md)
- [üìú –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã](certificates.md) ‚Üê –í—ã –∑–¥–µ—Å—å
- [üñ•Ô∏è –°–∏—Å—Ç–µ–º–∞](system.md)
- [üìã –ü—Ä–∏–º–µ—Ä—ã](examples.md)

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏ –¥–ª—è API —Å–µ–º–µ–π–Ω–æ–≥–æ VPN —Å–µ—Ä–≤–µ—Ä–∞.

## –û–±–∑–æ—Ä

API —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å, –ø–æ–ª—É—á–∞—Ç—å –¥–µ—Ç–∞–ª–∏ –∏ –æ—Ç–∑—ã–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ VPN. –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

## –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### POST /api/generate-cert

–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è

**–ó–∞–ø—Ä–æ—Å:**
```http
POST /api/generate-cert
Cookie: accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Content-Type: application/json

{
  "clientName": "john-laptop",
  "email": "john@example.com" // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
}
```

**–û—Ç–≤–µ—Ç (–£—Å–ø–µ—Ö):**
```http
HTTP/1.1 200 OK
Content-Type: application/x-openvpn-profile
Content-Disposition: attachment; filename="john-laptop.ovpn"

client
dev tun
proto udp
remote ip-–≤–∞—à–µ–≥–æ-—Å–µ—Ä–≤–µ—Ä–∞ 1194
resolv-retry infinite
nobind
persist-key
persist-tun
...
<ca>
-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
</ca>
<cert>
-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
</cert>
<key>
-----BEGIN PRIVATE KEY-----
...
-----END PRIVATE KEY-----
</key>
```

**–û—Ç–≤–µ—Ç (–û—à–∏–±–∫–∞):**
```http
HTTP/1.1 400 Bad Request

{
  "success": false,
  "error": "–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
}
```

**–ü—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:**
- `clientName`: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, 3-50 —Å–∏–º–≤–æ–ª–æ–≤, —Ç–æ–ª—å–∫–æ –±—É–∫–≤–µ–Ω–Ω–æ-—Ü–∏—Ñ—Ä–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã –∏ –¥–µ—Ñ–∏—Å—ã
- `email`: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email

### GET /api/certificates

–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤.

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è

**–ó–∞–ø—Ä–æ—Å:**
```http
GET /api/certificates
Cookie: accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

**–û—Ç–≤–µ—Ç:**
```http
HTTP/1.1 200 OK
Content-Type: application/json

{
  "success": true,
  "certificates": [
    {
      "id": "1",
      "clientName": "john-laptop",
      "email": "john@example.com",
      "createdAt": "2025-01-15T10:30:00Z",
      "expiresAt": "2026-01-15T10:30:00Z",
      "status": "active",
      "serialNumber": "01"
    },
    {
      "id": "2",
      "clientName": "mary-phone",
      "email": "mary@example.com",
      "createdAt": "2025-01-16T14:20:00Z",
      "expiresAt": "2026-01-16T14:20:00Z",
      "status": "active",
      "serialNumber": "02"
    }
  ]
}
```

### GET /api/certificates/:id

–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞.

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è

**–ó–∞–ø—Ä–æ—Å:**
```http
GET /api/certificates/1
Cookie: accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

**–û—Ç–≤–µ—Ç:**
```http
HTTP/1.1 200 OK
Content-Type: application/json

{
  "success": true,
  "certificate": {
    "id": "1",
    "clientName": "john-laptop",
    "email": "john@example.com",
    "createdAt": "2025-01-15T10:30:00Z",
    "expiresAt": "2026-01-15T10:30:00Z",
    "status": "active",
    "serialNumber": "01",
    "subject": "CN=john-laptop",
    "issuer": "CN=Family VPN CA",
    "fingerprint": "SHA256:1234567890abcdef..."
  }
}
```

### DELETE /api/certificates/:id

–û—Ç–∑—ã–≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞.

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è

**–ó–∞–ø—Ä–æ—Å:**
```http
DELETE /api/certificates/1
Cookie: accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

**–û—Ç–≤–µ—Ç:**
```http
HTTP/1.1 200 OK
Content-Type: application/json

{
  "success": true,
  "message": "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—Å–ø–µ—à–Ω–æ –æ—Ç–æ–∑–≤–∞–Ω"
}
```

## –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è**: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∏–º–µ–Ω–µ–º –∫–ª–∏–µ–Ω—Ç–∞
2. **–ê–∫—Ç–∏–≤–Ω—ã–π**: –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∏ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è VPN —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
3. **–ò—Å—Ç–µ–∫–∞—é—â–∏–π**: –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç—Å—è –∫ –¥–∞—Ç–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è
4. **–û—Ç–æ–∑–≤–∞–Ω–Ω—ã–π**: –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –±—ã–ª –≤—Ä—É—á–Ω—É—é –æ—Ç–æ–∑–≤–∞–Ω –∏ –Ω–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
5. **–ò—Å—Ç–µ–∫—à–∏–π**: –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ø—Ä–æ—à–µ–ª –¥–∞—Ç—É –∏—Å—Ç–µ—á–µ–Ω–∏—è

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –ø–æ —Å–∫–æ—Ä–æ—Å—Ç–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π:
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤**: 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —á–∞—Å –Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## –°–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- –ò–º–µ–Ω–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –≤ —Å–∏—Å—Ç–µ–º–µ
- –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö —Å–ø–∏—Å–∫–∞ –∏–ª–∏ –¥–µ—Ç–∞–ª–µ–π
- –û—Ç–æ–∑–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫ –æ—Ç–∑—ã–≤–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ (CRL)
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –¥–ª—è —Ü–µ–ª–µ–π –∞—É–¥–∏—Ç–∞

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [API –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏](authentication.md)
- [–°–∏—Å—Ç–µ–º–Ω—ã–π API](system.md)
- [–ü—Ä–∏–º–µ—Ä—ã API](examples.md)