# –°–∏—Å—Ç–µ–º–Ω—ã–π API

üìç **–ù–∞–≤–∏–≥–∞—Ü–∏—è**: [–ì–ª–∞–≤–Ω–∞—è](../../../README.md) > [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](../../README.md) > [–†—É—Å—Å–∫–∏–π](../README.md) > [API](README.md) > –°–∏—Å—Ç–µ–º–∞

üåê **–Ø–∑—ã–∫**: [English](../../en/api/system.md) | [–†—É—Å—Å–∫–∏–π](../../ru/api/system.md) ‚Üê –í—ã –∑–¥–µ—Å—å

## üìö –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä–∞–∑–¥–µ–ª—É

- [üè† –û–±–∑–æ—Ä API](README.md)
- [üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è](authentication.md)
- [üìú –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã](certificates.md)
- [üñ•Ô∏è –°–∏—Å—Ç–µ–º–∞](system.md) ‚Üê –í—ã –∑–¥–µ—Å—å
- [üìã –ü—Ä–∏–º–µ—Ä—ã](examples.md)

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–∏—Å—Ç–µ–º—ã –∏ —Å—Ç–∞—Ç—É—Å–∞ –¥–ª—è API —Å–µ–º–µ–π–Ω–æ–≥–æ VPN —Å–µ—Ä–≤–µ—Ä–∞.

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–Ω—ã–π API –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã –∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –ª–æ–≥–∞–º. –≠–Ω–¥–ø–æ–∏–Ω—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø—É–±–ª–∏—á–Ω—ã–π, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ —Å—Ç–∞—Ç—É—Å –∏ –ª–æ–≥–∏ —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

## –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### GET /health

–≠–Ω–¥–ø–æ–∏–Ω—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è).

**–ó–∞–ø—Ä–æ—Å:**
```http
GET /health
```

**–û—Ç–≤–µ—Ç:**
```http
HTTP/1.1 200 OK
Content-Type: application/json

{
  "status": "healthy",
  "timestamp": "2025-01-15T10:30:00Z",
  "uptime": 3600,
  "version": "1.0.0"
}
```

### GET /api/status

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è

**–ó–∞–ø—Ä–æ—Å:**
```http
GET /api/status
Cookie: accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

**–û—Ç–≤–µ—Ç:**
```http
HTTP/1.1 200 OK
Content-Type: application/json

{
  "success": true,
  "status": {
    "server": {
      "status": "running",
      "uptime": 3600,
      "version": "1.0.0",
      "nodeVersion": "18.17.0"
    },
    "openvpn": {
      "status": "running",
      "connectedClients": 3,
      "totalConnections": 15,
      "bytesReceived": 1048576,
      "bytesSent": 2097152
    },
    "certificates": {
      "total": 5,
      "active": 4,
      "revoked": 1,
      "expiringSoon": 0
    },
    "system": {
      "cpuUsage": 15.2,
      "memoryUsage": 45.8,
      "diskUsage": 23.1
    }
  }
}
```

### GET /api/logs

–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–ø–∏—Å–µ–π –ª–æ–≥–æ–≤.

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `level`: –§–∏–ª—å—Ç—Ä –ø–æ —É—Ä–æ–≤–Ω—é –ª–æ–≥–∞ (error, warn, info, debug)
- `limit`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 100, –º–∞–∫—Å–∏–º—É–º: 1000)
- `since`: ISO –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ª–æ–≥–æ–≤ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏

**–ó–∞–ø—Ä–æ—Å:**
```http
GET /api/logs?level=error&limit=50&since=2025-01-15T00:00:00Z
Cookie: accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

**–û—Ç–≤–µ—Ç:**
```http
HTTP/1.1 200 OK
Content-Type: application/json

{
  "success": true,
  "logs": [
    {
      "timestamp": "2025-01-15T10:30:00Z",
      "level": "error",
      "message": "–ù–µ—É–¥–∞—á–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è",
      "clientIP": "192.168.1.100",
      "username": "admin",
      "correlationId": "abc123"
    }
  ]
}
```

## –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ

### –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞
- **status**: –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ (running, stopped, error)
- **uptime**: –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
- **version**: –í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **nodeVersion**: –í–µ—Ä—Å–∏—è —Å—Ä–µ–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Node.js

### –°—Ç–∞—Ç—É—Å OpenVPN
- **status**: –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–µ–º–æ–Ω–∞ OpenVPN (running, stopped, error)
- **connectedClients**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤
- **totalConnections**: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- **bytesReceived**: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤
- **bytesSent**: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞–º

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- **total**: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–¥–∞–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- **active**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö (–Ω–µ –æ—Ç–æ–∑–≤–∞–Ω–Ω—ã—Ö, –Ω–µ –∏—Å—Ç–µ–∫—à–∏—Ö) —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- **revoked**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–æ–∑–≤–∞–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- **expiringSoon**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤, –∏—Å—Ç–µ–∫–∞—é—â–∏—Ö –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –¥–Ω–µ–π

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- **cpuUsage**: –¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
- **memoryUsage**: –¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
- **diskUsage**: –¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö

## –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–æ–≤

- **error**: –£—Å–ª–æ–≤–∏—è –æ—à–∏–±–æ–∫, —Ç—Ä–µ–±—É—é—â–∏–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è
- **warn**: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—â–∏–µ —É—Å–ª–æ–≤–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–µ–¥—É–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å
- **info**: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
- **debug**: –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏

–°–∏—Å—Ç–µ–º–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏–º–µ—é—Ç —Å–ª–µ–¥—É—é—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏:
- **–û–±—â–∏–π API**: 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —á–∞—Å –Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–≠–Ω–¥–ø–æ–∏–Ω—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏**: –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Å–∫–æ—Ä–æ—Å—Ç–∏ (–ø—É–±–ª–∏—á–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç)

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–í—Å–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –æ–± –æ—à–∏–±–∫–∞—Ö:

```http
HTTP/1.1 500 Internal Server Error
Content-Type: application/json

{
  "success": false,
  "error": "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω",
  "details": {
    "component": "openvpn",
    "message": "–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è OpenVPN"
  }
}
```

## –ó–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–í—Å–µ API –æ—Ç–≤–µ—Ç—ã –≤–∫–ª—é—á–∞—é—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
```http
X-Content-Type-Options: nosniff
X-Frame-Options: DENY
X-XSS-Protection: 1; mode=block
Strict-Transport-Security: max-age=31536000; includeSubDomains
```

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [API –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏](authentication.md)
- [API —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏](certificates.md)
- [–ü—Ä–∏–º–µ—Ä—ã API](examples.md)